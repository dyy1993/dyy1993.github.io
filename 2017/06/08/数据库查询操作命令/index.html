<!doctype html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="iOS, Swift" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.1" />






<meta name="description" content="SQL查询语句:简单查询基本语法12	语法：SELECT &amp;#123;*/column_name, ...&amp;#125;FROM table_name说明：SELECT   选择查询列表FROM   提供数据源(表、视图或其他的数据源)如果为 * 和创建表时的顺序一致。可以自己调整顺序，在select后边加上要查询的列名。 消除结果中重复数据```sqlSELECT DISTINC">
<meta property="og:type" content="article">
<meta property="og:title" content="数据库查询操作命令">
<meta property="og:url" content="http://yoursite.com/2017/06/08/数据库查询操作命令/index.html">
<meta property="og:site_name" content="洋洋">
<meta property="og:description" content="SQL查询语句:简单查询基本语法12	语法：SELECT &amp;#123;*/column_name, ...&amp;#125;FROM table_name说明：SELECT   选择查询列表FROM   提供数据源(表、视图或其他的数据源)如果为 * 和创建表时的顺序一致。可以自己调整顺序，在select后边加上要查询的列名。 消除结果中重复数据```sqlSELECT DISTINC">
<meta property="og:image" content="http://yoursite.com/2017/06/08/images/SQL_JOINS.png">
<meta property="og:updated_time" content="2017-09-20T06:30:32.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="数据库查询操作命令">
<meta name="twitter:description" content="SQL查询语句:简单查询基本语法12	语法：SELECT &amp;#123;*/column_name, ...&amp;#125;FROM table_name说明：SELECT   选择查询列表FROM   提供数据源(表、视图或其他的数据源)如果为 * 和创建表时的顺序一致。可以自己调整顺序，在select后边加上要查询的列名。 消除结果中重复数据```sqlSELECT DISTINC">
<meta name="twitter:image" content="http://yoursite.com/2017/06/08/images/SQL_JOINS.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2017/06/08/数据库查询操作命令/"/>





  <title>数据库查询操作命令 | 洋洋</title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  















  
  
    
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">洋洋</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/06/08/数据库查询操作命令/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="丁洋洋">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="洋洋">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">数据库查询操作命令</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-06-08T13:23:54+08:00">
                2017-06-08
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="SQL查询语句"><a href="#SQL查询语句" class="headerlink" title="SQL查询语句:"></a>SQL查询语句:</h1><h2 id="简单查询"><a href="#简单查询" class="headerlink" title="简单查询"></a>简单查询</h2><h4 id="基本语法"><a href="#基本语法" class="headerlink" title="基本语法"></a>基本语法</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">	</div><div class="line">语法：<span class="keyword">SELECT</span> &#123;*/column_name, ...&#125;<span class="keyword">FROM</span> table_name说明：<span class="keyword">SELECT</span>   选择查询列表<span class="keyword">FROM</span>   提供数据源(表、视图或其他的数据源)如果为 * 和创建表时的顺序一致。可以自己调整顺序，在<span class="keyword">select</span>后边加上要查询的列名。</div></pre></td></tr></table></figure>
<h4 id="消除结果中重复数据"><a href="#消除结果中重复数据" class="headerlink" title="消除结果中重复数据"></a>消除结果中重复数据</h4><p>```sql<br>SELECT DISTINCT 列名，…<br>FROM  table_name;<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">## 过滤查询</div><div class="line">```sql</div><div class="line">使用WHERE子句限定返回的记录：语法：SELECT  &lt;selectList&gt; FROM  table_nameWHERE  条件;注意：WHERE子句在 FROM 子句后</div><div class="line"></div><div class="line">多个条件使用逻辑运算符连接:</div><div class="line">逻辑运算符	            含义----------------------------------------AND(&amp;&amp;)	         如果组合的条件都是TRUE,返回TRUEOR(||)	         如果组合的条件之一是TRUE,返回TRUENOT(!)	         如果下面的条件是FALSE,返回TRUE------------------------------------------</div><div class="line"></div><div class="line">使用BETWEEN运算符显示某一值域范围的记录，这个操作符最常见的使用在数字类型数据的范围上，但对于字符类型数据和日期类型数据同样可用。格式：SELECT &lt;columnList&gt; FROM table_nameWHERE 列名 BETWEEN minvalue AND maxvalue：闭区间。使用IN运算符，判断列的值是否在指定的集合中。格式： WHERE 列名 IN (值1，值2....);IS NULL:判断列的值是否为空。格式：WHERE  列名 IS NULL;使用LIKE运算符执行通配查询，查询条件可包含文字字符或数字：%通配符：可表示零或多个任意字符。_通配符：可表示一个任意字符。通配符：用来实现匹配部分值得特殊字符。</div></pre></td></tr></table></figure></p>
<h2 id="结果排序"><a href="#结果排序" class="headerlink" title="结果排序"></a>结果排序</h2><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">使用ORDER BY子句将记录排序ASC : 升序，缺省。DESC: 降序。ORDER BY 子句出现在SELECT语句的最后。格式：SELECT &lt;selectList&gt; FROM table_nameWHERE 条件ORDER BY 列名1 [ASC/DESC],列名2 [ASC/DESC]...;注意：别名用于排序时不能加引号。</div><div class="line">sql语句执行顺序为 FROM -&gt; WHERE -&gt; SELECT -&gt; ORDER BY</div></pre></td></tr></table></figure>
<h2 id="分页查询"><a href="#分页查询" class="headerlink" title="分页查询"></a>分页查询</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">设置每页最多10条记录: 语法: <span class="keyword">SELECT</span> * <span class="keyword">FROM</span> table_name <span class="keyword">LIMIT</span> startIndex, pageSize参数<span class="number">1</span>:startIndex,开始的索引, (currPage - <span class="number">1</span>) * pageSize参数<span class="number">2</span>:pageSize,表示每一页最多显示几条记录</div><div class="line"><span class="string">``</span><span class="string">`## 聚合函数</span></div><div class="line">`<span class="string">``</span><span class="keyword">sql</span></div><div class="line">聚合函数作用于一组数据，并对一组数据返回一条记录。<span class="comment">-------------------------------------------------------</span><span class="keyword">COUNT</span>：统计结果记录数  <span class="keyword">MAX</span>：  统计计算最大值<span class="keyword">MIN</span>：  统计计算最小值<span class="keyword">SUM</span>：  统计计算求和<span class="keyword">AVG</span>：  统计计算平均值<span class="comment">-------------------------------------------------------</span></div></pre></td></tr></table></figure>
<h2 id="多表查询"><a href="#多表查询" class="headerlink" title="多表查询"></a>多表查询</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">多表查询(最简单的):<span class="keyword">SELECT</span> &lt;selectList&gt;<span class="keyword">FROM</span>  表名A , 表名B,....</div><div class="line"></div><div class="line">注意:没有连接条件的表关系返回的结果。多表查询会产生笛卡尔积:假设集合A=&#123;a,b&#125;，集合B=&#123;<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>&#125;，则两个集合的笛卡尔积为&#123;(a,<span class="number">0</span>),(a,<span class="number">1</span>),(a,<span class="number">2</span>),(b,<span class="number">0</span>),(b,<span class="number">1</span>),(b,<span class="number">2</span>)&#125;。实际运行环境下，应避免使用全笛卡尔集。解决方案: 在<span class="keyword">WHERE</span>加入有效的连接条件<span class="comment">----&gt;等值连接</span>连接 n张表,至少需要 n<span class="number">-1</span>个连接条件。</div></pre></td></tr></table></figure>
<h2 id="外键约束"><a href="#外键约束" class="headerlink" title="外键约束"></a>外键约束</h2><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">主键约束(PRIMARY KEY): 约束在当前表中,指定列的值非空且唯一.外键约束(FOREIGN KEY): A表中的外键列的值必须参照于B表中的主键列的值,外键列允许为NULL.注意:在MySQL中,InnoDB支持事务和外键.修改表的存储引擎为InnDB:ALTER TABLE 表名 ENGINE='InnoDB';--------------------------------主表和从表关系主表可以单独存在,就是被参考的表从表是表中的数据参照与主表中的数据删除表时:先删除从表再删除主表其中主表中的一条数据,在从表中有多条数据与之对应(一对多的关系)-------------------------------约定优于配置:约定好规则可以少些很多代码表名: t_表名   t_student  t_class主键: id外键: 参照表(缩写)_主键名  t_class_id   -&gt;  class_id   dept_id开发中为了提高性能,往往不要外键,但是依然使用InnoDB存储引擎</div></pre></td></tr></table></figure>
<h2 id="内连接查询"><a href="#内连接查询" class="headerlink" title="内连接查询"></a>内连接查询</h2><p><img src="../images/SQL_JOINS.png" alt=""></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">内连接分为：隐式内连接、显示内连接，其查询效果相同，仅仅是语法不同。<span class="comment">-----------------------------------------------</span>隐式内连接：<span class="keyword">SELECT</span>  &lt;selectList&gt;<span class="keyword">FROM</span>  A ,B  <span class="keyword">WHERE</span>  A.列 = B.列<span class="comment">-----------------------------------------------</span>显示内连接(推荐写法)：.<span class="keyword">SELECT</span>  &lt;selectList&gt;<span class="keyword">FROM</span>  A [<span class="keyword">INNER</span>] <span class="keyword">JOIN</span> B <span class="keyword">ON</span> A.列 = B.列<span class="comment">-----------------------------------------------</span>使用表名前缀在多个表中区分相同的列。在不同表中具有相同列名的列可以用表的别名加以区分。使用别名可以简化查询。使用表名前缀可以提高执行效率。如果使用了表的别名，则不能再使用表的真名<span class="comment">------------------------------------------------</span></div></pre></td></tr></table></figure>
<h2 id="自连接查询"><a href="#自连接查询" class="headerlink" title="自连接查询"></a>自连接查询</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">自连接查询:把一张表看成两张来做查询.</div><div class="line">使用别名区分两张表 语法同内连接查询</div></pre></td></tr></table></figure>
      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2016/08/09/iOS开发-APP重新签名/" rel="next" title="iOS开发-APP重新签名">
                <i class="fa fa-chevron-left"></i> iOS开发-APP重新签名
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/06/09/常用的数据库操作命令/" rel="prev" title="常见的数据库操作命令">
                常见的数据库操作命令 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="丁洋洋" />
          <p class="site-author-name" itemprop="name">丁洋洋</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">4</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          

          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#SQL查询语句"><span class="nav-number">1.</span> <span class="nav-text">SQL查询语句:</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#简单查询"><span class="nav-number">1.1.</span> <span class="nav-text">简单查询</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#基本语法"><span class="nav-number">1.1.0.1.</span> <span class="nav-text">基本语法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#消除结果中重复数据"><span class="nav-number">1.1.0.2.</span> <span class="nav-text">消除结果中重复数据</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#结果排序"><span class="nav-number">1.2.</span> <span class="nav-text">结果排序</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#分页查询"><span class="nav-number">1.3.</span> <span class="nav-text">分页查询</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#多表查询"><span class="nav-number">1.4.</span> <span class="nav-text">多表查询</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#外键约束"><span class="nav-number">1.5.</span> <span class="nav-text">外键约束</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#内连接查询"><span class="nav-number">1.6.</span> <span class="nav-text">内连接查询</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#自连接查询"><span class="nav-number">1.7.</span> <span class="nav-text">自连接查询</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">丁洋洋</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.1"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.1"></script>



  


  




	





  





  





  






  





  

  

  

  

  

  

</body>
</html>
